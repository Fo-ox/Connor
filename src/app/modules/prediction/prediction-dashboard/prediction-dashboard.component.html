<ng-container *ngIf="{
    tasks: tasks$ | async
} as async">

<div class="prediction-dashboard">
    <div class="prediction-dashboard__header">

        <h2 class="prediction-dashboard__header-title">
            Task overview
        </h2>

        <form [formGroup]="formGroup" class="prediction-dashboard__header-tools">
            <div class="prediction-dashboard__header-tools__filter">
                <span class="prediction-dashboard__header-tools__filter-count"> 3 </span>
                <svg-icon class="prediction-dashboard__header-tools__filter-icon"
                          [key]="'filter'"
                          [size]="'sm'"
                ></svg-icon>
            </div>
            <div class="prediction-dashboard__header-tools__preview">
                <tui-select
                    formControlName="preview"
                    [tuiTextfieldSize]="'m'"
                >
                    <p>Dashboard type</p>
                    <tui-data-list-wrapper
                        *tuiDataList
                        [items]="PREDICTION_TYPES"
                    ></tui-data-list-wrapper>
                </tui-select>
            </div>
            <div class="prediction-dashboard__header-tools__date">
                <tui-input-date-range
                    formControlName="date"
                    tuiUnfinishedValidator="Finish filling the field"
                    [tuiTextfieldCleaner]="true"
                    [tuiTextfieldSize]="'m'"
                >
                    Choose dates
                </tui-input-date-range>
            </div>
        </form>

    </div>

    <div class="prediction-dashboard__content">
        <task-table class="prediction-dashboard__content__table"
                    [tasks]="async.tasks"
        ></task-table>
        <task-chart class="prediction-dashboard__content__graphic"
                    [tasks]="async.tasks"
        ></task-chart>
    </div>
</div>

</ng-container>
